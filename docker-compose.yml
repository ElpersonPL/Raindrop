version: "3.3"

services:
  db:
    volumes: 
      - ./PSQLDATA:/var/lib/postgresql/data # YOUR/SERVER/DIR:CONTAINER/DIR
    build: ./SQL
    ports:
      - 5432:5432
    environment:
      - POSTGRES_DB=uploader # Use lowercase.
      - POSTGRES_USER=admin # Use lowercase.
      - POSTGRES_PASSWORD=dqRcBKPe2Kjov0mHvXGQ # CHANGE THIS TO SOMETHING LONG.
  web:
    volumes:
      - ./Uploader:/srv
    build: ./Uploader
    ports:
      - "80:8080"
    depends_on:
      - db
  bot:
    volumes:
      - ./Bot:/srv
    build: ./Bot
    environment: 
      - TOKEN=ODUyNTY1NjQ1ODYxMzIyNzgy.YMIroQ.W2JWOjK_p2QLFjidadfbzlx_g7s
      - DBPASS=dqRcBKPe2Kjov0mHvXGQ
    depends_on: 
      - db
      - web